#include "L1Trigger/UCT2015/interface/jetcorrections.h"


double jetcorr(double ptraw, int ieta, unsigned int pu) {
	double calib[]={ // no cuts at all
		0.892188, -0.651711, 10.2378, 4.58121,
		1.02586, -1.33642, 4.81479, 9.36397,
		1.27058, -1.50567, 2.07494, 10.4648,
		1.50522, -1.31665, 4.08716, 8.85142,
		1.26861, -0.835476, 16.0302,5.40097,
		1.21747, -0.390929, 21.335, 2.47538,
		1.24958, -0.222715, 21.7479,1.56268,
		1.23016, -0.280122, 22.383,1.79817,
		1.20706, -0.294144, 20.5458,1.92008,
		1.16759, -0.268146, 19.5496,1.74353,
		1.18027, -0.343445, 17.7221,2.23023,
		1.18262, -0.330986, 18.0593,2.13182,
		1.20777, -0.34207, 19.1141, 2.22131,
		1.23128, -0.327868, 20.1695,2.12529,
		1.26521, -0.301663, 21.5901,1.9261,
		1.22042, -0.297534, 22.2525,1.93023,
		1.21491, -0.296532, 22.0371,1.91047,
		1.28441, -0.810513, 15.964,5.24753,
		1.49075, -1.28715, 4.51183,8.75857,
		1.30826, -1.49382, 1.10413,10.3965,
		0.991312, -1.25799, 5.38376,8.87343,
		0.938214, -0.710223, 9.25766,5.20865,};

	//==============================================

	double alpha = calib[3*ieta + 0];
	double beta  = calib[3*ieta + 1];
	double gamma = calib[3*ieta + 2];
	double delta = calib[4*ieta + 3];       

	double pt =  alpha * ptraw + beta * pu + gamma + delta;

	return pt;
}

double jetcorrUIC(double ptraw, int ieta, unsigned int pu) {
	double calib[]={ // no cuts at all
		0.892188, -0.651711, 10.2378, 4.58121,
		1.02586, -1.33642, 4.81479, 9.36397,
		1.27058, -1.50567, 2.07494, 10.4648,
		1.50522, -1.31665, 4.08716, 8.85142,
		1.26861, -0.835476, 16.0302,5.40097,
		1.21747, -0.390929, 21.335, 2.47538,
		1.24958, -0.222715, 21.7479,1.56268,
		1.23016, -0.280122, 22.383,1.79817,
		1.20706, -0.294144, 20.5458,1.92008,
		1.16759, -0.268146, 19.5496,1.74353,
		1.18027, -0.343445, 17.7221,2.23023,
		1.18262, -0.330986, 18.0593,2.13182,
		1.20777, -0.34207, 19.1141, 2.22131,
		1.23128, -0.327868, 20.1695,2.12529,
		1.26521, -0.301663, 21.5901,1.9261,
		1.22042, -0.297534, 22.2525,1.93023,
		1.21491, -0.296532, 22.0371,1.91047,
		1.28441, -0.810513, 15.964,5.24753,
		1.49075, -1.28715, 4.51183,8.75857,
		1.30826, -1.49382, 1.10413,10.3965,
		0.991312, -1.25799, 5.38376,8.87343,
		0.938214, -0.710223, 9.25766,5.20865,};

	// std::cout << " JetCorr: " << ptraw << " " << ieta << " " << pu << std::endl;
	double alpha = calib[4*ieta + 0];
	double beta  = calib[4*ieta + 1];
	double gamma = calib[4*ieta + 2];
	double delta = calib[4*ieta + 3];       

	double pt =  alpha * ptraw + beta * pu + gamma + delta;
	return pt;
}

